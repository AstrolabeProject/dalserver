<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.7.0_151) on Wed Dec 13 23:20:46 MST 2017 -->
<title>DalContext</title>
<meta name="date" content="2017-12-13">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DalContext";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../dalserver/ConfigTable.html" title="class in dalserver"><span class="strong">Prev Class</span></a></li>
<li><a href="../dalserver/DalOverflowException.html" title="class in dalserver"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?dalserver/DalContext.html" target="_top">Frames</a></li>
<li><a href="DalContext.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">dalserver</div>
<h2 title="Class DalContext" class="title">Class DalContext</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>dalserver.DalContext</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DalContext</span>
extends java.lang.Object</pre>
<div class="block">DALServer context class.  This class persists the DALServer context
 (request and service parameters, and response object) for the duration
 of a service request or UWS job.  In the case of a synchronous HTTP
 GET or POST request DalContext marshalls all parameters and stores
 the RequestResponse object.  In the case of a UWS job such as for a
 TAP service, the DalContext instance is used to make the DALServer context
 available to the service plugins.

 Plugins to the OpenCADC UWS and TAP service code have no knowledge of the
 DALServer framework within which these services run.  DalContext provides
 access to the framework context for the duration of the UWS job.  This
 context includes access to DALServer global and service-instance
 parameters to control service execution, and a RequestResponse object
 to process the output of a query.  A pointer to the DalContext instance
 for a job is stored in the UWS job descriptor, which is available to
 all plugins, allowing them to retrieve the DALServer context for the
 current job.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>Job</code></td>
<td class="colLast"><code><strong><a href="../dalserver/DalContext.html#job">job</a></strong></code>
<div class="block">Context parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../dalserver/ParamSet.html" title="class in dalserver">ParamSet</a></code></td>
<td class="colLast"><code><strong><a href="../dalserver/DalContext.html#pset">pset</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../dalserver/RequestResponse.html" title="class in dalserver">RequestResponse</a></code></td>
<td class="colLast"><code><strong><a href="../dalserver/DalContext.html#response">response</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../dalserver/DalContext.html#DalContext(dalserver.ParamSet,%20dalserver.RequestResponse)">DalContext</a></strong>(<a href="../dalserver/ParamSet.html" title="class in dalserver">ParamSet</a>&nbsp;params,
          <a href="../dalserver/RequestResponse.html" title="class in dalserver">RequestResponse</a>&nbsp;response)</code>
<div class="block">This no-arg constructor has no Job descriptor, hence merely reads
 the DALServer global parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../dalserver/DalContext.html#DalContext(dalserver.ParamSet,%20dalserver.RequestResponse,%20HttpServletRequest,%20ServletContext,%20ServletConfig)">DalContext</a></strong>(<a href="../dalserver/ParamSet.html" title="class in dalserver">ParamSet</a>&nbsp;params,
          <a href="../dalserver/RequestResponse.html" title="class in dalserver">RequestResponse</a>&nbsp;response,
          HttpServletRequest&nbsp;servletRequest,
          ServletContext&nbsp;servletContext,
          ServletConfig&nbsp;servletConfig)</code>
<div class="block">Construct a DalContext instance for a synchronous HTTP GET or POST
 request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../dalserver/DalContext.html#DalContext(dalserver.ParamSet,%20dalserver.RequestResponse,%20Job)">DalContext</a></strong>(<a href="../dalserver/ParamSet.html" title="class in dalserver">ParamSet</a>&nbsp;params,
          <a href="../dalserver/RequestResponse.html" title="class in dalserver">RequestResponse</a>&nbsp;response,
          Job&nbsp;job)</code>
<div class="block">Construct a DalContext instance (input parameters and output
 RequestResponse object) for a UWS job and save a reference to this
 in the UWS Job descriptor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../dalserver/DalContext.html#readProperties(java.lang.String,%20dalserver.ParamSet,%20boolean)">readProperties</a></strong>(java.lang.String&nbsp;propfile,
              <a href="../dalserver/ParamSet.html" title="class in dalserver">ParamSet</a>&nbsp;pset,
              boolean&nbsp;sys)</code>
<div class="block">Read a Java properties file and add any parameters defined therein
 to the given parameter set.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="job">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>job</h4>
<pre>public&nbsp;Job job</pre>
<div class="block">Context parameters.</div>
</li>
</ul>
<a name="pset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pset</h4>
<pre>public&nbsp;<a href="../dalserver/ParamSet.html" title="class in dalserver">ParamSet</a> pset</pre>
</li>
</ul>
<a name="response">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>response</h4>
<pre>public&nbsp;<a href="../dalserver/RequestResponse.html" title="class in dalserver">RequestResponse</a> response</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DalContext(dalserver.ParamSet, dalserver.RequestResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DalContext</h4>
<pre>public&nbsp;DalContext(<a href="../dalserver/ParamSet.html" title="class in dalserver">ParamSet</a>&nbsp;params,
          <a href="../dalserver/RequestResponse.html" title="class in dalserver">RequestResponse</a>&nbsp;response)
           throws <a href="../dalserver/DalServerException.html" title="class in dalserver">DalServerException</a></pre>
<div class="block">This no-arg constructor has no Job descriptor, hence merely reads
 the DALServer global parameters.  This is the most basic way to
 get global configuration parameter defaults into any class code.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>params</code> - Parameter set</dd><dd><code>response</code> - RequestResponse instance

 A valid parameter set is required.  The DALServer global parameters
 (all that is available in the simplest cases) are read and stored
 in the given parameter set.  References to the request parameter
 set and given RequestResponse instance are stored in the DalContext
 instance.  If a RequestResponse instance is not required a null
 value may be input.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../dalserver/DalServerException.html" title="class in dalserver">DalServerException</a></code></dd></dl>
</li>
</ul>
<a name="DalContext(dalserver.ParamSet, dalserver.RequestResponse, Job)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DalContext</h4>
<pre>public&nbsp;DalContext(<a href="../dalserver/ParamSet.html" title="class in dalserver">ParamSet</a>&nbsp;params,
          <a href="../dalserver/RequestResponse.html" title="class in dalserver">RequestResponse</a>&nbsp;response,
          Job&nbsp;job)
           throws <a href="../dalserver/DalServerException.html" title="class in dalserver">DalServerException</a></pre>
<div class="block">Construct a DalContext instance (input parameters and output
 RequestResponse object) for a UWS job and save a reference to this
 in the UWS Job descriptor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>params</code> - Parameter set</dd><dd><code>response</code> - RequestResponse instance</dd><dd><code>job</code> - Job descriptor context

 All parameters are gathered and added to the given parameter set.
 A reference to the new DalContext instance is saved in the given
 Job descriptor.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../dalserver/DalServerException.html" title="class in dalserver">DalServerException</a></code></dd></dl>
</li>
</ul>
<a name="DalContext(dalserver.ParamSet, dalserver.RequestResponse, HttpServletRequest, ServletContext, ServletConfig)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DalContext</h4>
<pre>public&nbsp;DalContext(<a href="../dalserver/ParamSet.html" title="class in dalserver">ParamSet</a>&nbsp;params,
          <a href="../dalserver/RequestResponse.html" title="class in dalserver">RequestResponse</a>&nbsp;response,
          HttpServletRequest&nbsp;servletRequest,
          ServletContext&nbsp;servletContext,
          ServletConfig&nbsp;servletConfig)
           throws <a href="../dalserver/DalServerException.html" title="class in dalserver">DalServerException</a></pre>
<div class="block">Construct a DalContext instance for a synchronous HTTP GET or POST
 request.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>params</code> - Parameter set</dd><dd><code>response</code> - RequestResponse instance</dd><dd><code>servletRequest</code> - HTTP servlet request instance</dd><dd><code>servletContext</code> - HTTP servlet context</dd><dd><code>servletConfig</code> - HTTP servlet config pars</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../dalserver/DalServerException.html" title="class in dalserver">DalServerException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="readProperties(java.lang.String, dalserver.ParamSet, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>readProperties</h4>
<pre>public&nbsp;int&nbsp;readProperties(java.lang.String&nbsp;propfile,
                 <a href="../dalserver/ParamSet.html" title="class in dalserver">ParamSet</a>&nbsp;pset,
                 boolean&nbsp;sys)
                   throws <a href="../dalserver/DalServerException.html" title="class in dalserver">DalServerException</a></pre>
<div class="block">Read a Java properties file and add any parameters defined therein
 to the given parameter set.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>propfile</code> - The property file to be read</dd><dd><code>pset</code> - An existing pset to receive the params</dd><dd><code>sys</code> - These parameters are system (hidden) params

 The named property file is accessed via classLoader.  Any parameters
 defined therein are appended to the provided parameter set.  The
 number of parameters added or set is returned as the function value.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../dalserver/DalServerException.html" title="class in dalserver">DalServerException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../dalserver/ConfigTable.html" title="class in dalserver"><span class="strong">Prev Class</span></a></li>
<li><a href="../dalserver/DalOverflowException.html" title="class in dalserver"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?dalserver/DalContext.html" target="_top">Frames</a></li>
<li><a href="DalContext.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
