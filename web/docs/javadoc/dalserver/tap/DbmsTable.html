<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.7.0_211) on Tue Jun 18 13:18:48 MST 2019 -->
<title>DbmsTable</title>
<meta name="date" content="2019-06-18">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DbmsTable";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../dalserver/tap/BasicUploadManager.html" title="class in dalserver.tap"><span class="strong">Prev Class</span></a></li>
<li><a href="../../dalserver/tap/InlineContentHandlerImpl.html" title="class in dalserver.tap"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?dalserver/tap/DbmsTable.html" target="_top">Frames</a></li>
<li><a href="DbmsTable.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">dalserver.tap</div>
<h2 title="Class DbmsTable" class="title">Class DbmsTable</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>dalserver.tap.DbmsTable</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DbmsTable</span>
extends java.lang.Object</pre>
<div class="block">This class provides methods for writing database tables, including creating
 a table, saving a ResultSet to a table, and related utilities for generat
 a basic TAP Schema.  This class is based upon the TAP UploadManager class,
 which performs a similar function for uploaded VOTables.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected javax.sql.DataSource</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#dataSource">dataSource</a></strong></code>
<div class="block">DataSource for the DB.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#lastTable">lastTable</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#rowCount">rowCount</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../dalserver/tap/DbmsTable.html#DbmsTable()">DbmsTable</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#createTable(java.lang.String,%20java.lang.String,%20TableDesc)">createTable</a></strong>(java.lang.String&nbsp;schemaName,
           java.lang.String&nbsp;tableName,
           TableDesc&nbsp;tableDesc)</code>
<div class="block">Create a new database table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#DbmsTable()">DbmsTable</a></strong>()</code>
<div class="block">No-arg constructor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getAdqlType(int)">getAdqlType</a></strong>(int&nbsp;jdbcType)</code>
<div class="block">Map a JDBC datatype to an ADQL datatype.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getCreateTableSQL(TableDesc,%20java.lang.String,%20DatabaseDataType)">getCreateTableSQL</a></strong>(TableDesc&nbsp;tableDesc,
                 java.lang.String&nbsp;dbTableName,
                 DatabaseDataType&nbsp;dbDataType)</code>
<div class="block">Create the SQL required to create a table described by the TableDesc.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getDbTableName(java.lang.String,%20java.lang.String)">getDbTableName</a></strong>(java.lang.String&nbsp;schemaName,
              java.lang.String&nbsp;tableName)</code>
<div class="block">Construct the fully qualified database table name from the schema and
 table names.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getGrantSelectTableSQL(java.lang.String)">getGrantSelectTableSQL</a></strong>(java.lang.String&nbsp;dbTableName)</code>
<div class="block">Create the SQL to grant select privileges for the UPLOAD table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getInsertTableSQL(TableDesc,%20java.lang.String)">getInsertTableSQL</a></strong>(TableDesc&nbsp;tableDesc,
                 java.lang.String&nbsp;tableName)</code>
<div class="block">Create the SQL required to create a PreparedStatement
 to insert into the table described by the TableDesc.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getPointObject(Position)">getPointObject</a></strong>(Position&nbsp;pos)</code>
<div class="block">Convert the string representation of the specified ADQL POINT into an object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getRegionObject(Region)">getRegionObject</a></strong>(Region&nbsp;reg)</code>
<div class="block">Convert the string representation of the specified ADQL POINT into an object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getRowCount()">getRowCount</a></strong>()</code>
<div class="block">Get the number of rows written or updated in the most recent table
 update operation.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>TableDesc</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getTableDesc(java.sql.ResultSet,%20java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)">getTableDesc</a></strong>(java.sql.ResultSet&nbsp;rs,
            java.lang.String&nbsp;schemaName,
            java.lang.String&nbsp;tableName,
            java.lang.String&nbsp;descr,
            java.lang.String&nbsp;utype)</code>
<div class="block">Generate a TableDesc instance for the given ResultSet.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>TableDesc</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getTableDesc(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)">getTableDesc</a></strong>(java.lang.String&nbsp;schemaName,
            java.lang.String&nbsp;tableName,
            java.lang.String&nbsp;descr,
            java.lang.String&nbsp;utype)</code>
<div class="block">Generate a TableDesc instance for an existing database table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#getTableName()">getTableName</a></strong>()</code>
<div class="block">Get the fully qualified name of the most recent output table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#insertData(java.lang.String,%20java.lang.String,%20java.util.ArrayList)">insertData</a></strong>(java.lang.String&nbsp;schemaName,
          java.lang.String&nbsp;tableName,
          java.util.ArrayList&lt;java.util.ArrayList&lt;java.lang.Object&gt;&gt;&nbsp;data)</code>
<div class="block">Insert row data into an existing table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#queryRows(java.lang.String,%20java.lang.String,%20java.lang.String)">queryRows</a></strong>(java.lang.String&nbsp;schemaName,
         java.lang.String&nbsp;tableName,
         java.lang.String&nbsp;whereClause)</code>
<div class="block">Count the number of rows in a table matching the given WHERE clause.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#setDataSource(javax.sql.DataSource)">setDataSource</a></strong>(javax.sql.DataSource&nbsp;ds)</code>
<div class="block">Set the DataSource used for creating and populating tables.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#updatePreparedStatement(java.sql.PreparedStatement,%20java.util.List,%20java.util.List)">updatePreparedStatement</a></strong>(java.sql.PreparedStatement&nbsp;ps,
                       java.util.List&lt;ColumnDesc&gt;&nbsp;columnDescs,
                       java.util.List&lt;java.lang.Object&gt;&nbsp;row)</code>
<div class="block">Updated the PreparedStatement with the row data using the ColumnDesc to
 determine each column data type.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#writeData(java.sql.ResultSet,%20java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)">writeData</a></strong>(java.sql.ResultSet&nbsp;rs,
         java.lang.String&nbsp;schemaName,
         java.lang.String&nbsp;tableName,
         java.lang.String&nbsp;descr,
         java.lang.String&nbsp;utype)</code>
<div class="block">Write a ResultSet to a new database table.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../dalserver/tap/DbmsTable.html#writeData(java.sql.ResultSet,%20TableDesc)">writeData</a></strong>(java.sql.ResultSet&nbsp;rs,
         TableDesc&nbsp;tableDesc)</code>
<div class="block">Write a ResultSet to a database table described by a table descriptor.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="dataSource">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dataSource</h4>
<pre>protected&nbsp;javax.sql.DataSource dataSource</pre>
<div class="block">DataSource for the DB.</div>
</li>
</ul>
<a name="lastTable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastTable</h4>
<pre>protected&nbsp;java.lang.String lastTable</pre>
</li>
</ul>
<a name="rowCount">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>rowCount</h4>
<pre>protected&nbsp;int rowCount</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DbmsTable()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DbmsTable</h4>
<pre>public&nbsp;DbmsTable()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="DbmsTable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DbmsTable</h4>
<pre>public&nbsp;void&nbsp;DbmsTable()</pre>
<div class="block">No-arg constructor.</div>
</li>
</ul>
<a name="setDataSource(javax.sql.DataSource)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDataSource</h4>
<pre>public&nbsp;void&nbsp;setDataSource(javax.sql.DataSource&nbsp;ds)</pre>
<div class="block">Set the DataSource used for creating and populating tables.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ds</code> - The DataSource to be used for output</dd></dl>
</li>
</ul>
<a name="getTableName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTableName()</pre>
<div class="block">Get the fully qualified name of the most recent output table.</div>
</li>
</ul>
<a name="getRowCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRowCount</h4>
<pre>public&nbsp;int&nbsp;getRowCount()</pre>
<div class="block">Get the number of rows written or updated in the most recent table
 update operation.</div>
</li>
</ul>
<a name="createTable(java.lang.String, java.lang.String, TableDesc)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTable</h4>
<pre>public&nbsp;void&nbsp;createTable(java.lang.String&nbsp;schemaName,
               java.lang.String&nbsp;tableName,
               TableDesc&nbsp;tableDesc)</pre>
<div class="block">Create a new database table.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - The schema to be used</dd><dd><code>tableName</code> - The name of the table to be created</dd><dd><code>tableDesc</code> - Table descriptor for the new table</dd></dl>
</li>
</ul>
<a name="queryRows(java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryRows</h4>
<pre>public&nbsp;int&nbsp;queryRows(java.lang.String&nbsp;schemaName,
            java.lang.String&nbsp;tableName,
            java.lang.String&nbsp;whereClause)
              throws java.sql.SQLException</pre>
<div class="block">Count the number of rows in a table matching the given WHERE clause.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - The schema containing the table</dd><dd><code>tableName</code> - The table to be queried</dd><dd><code>where</code> - The WHERE clause (default none)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="writeData(java.sql.ResultSet, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeData</h4>
<pre>public&nbsp;void&nbsp;writeData(java.sql.ResultSet&nbsp;rs,
             java.lang.String&nbsp;schemaName,
             java.lang.String&nbsp;tableName,
             java.lang.String&nbsp;descr,
             java.lang.String&nbsp;utype)</pre>
<div class="block">Write a ResultSet to a new database table.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rs</code> - A JDBC ResultSet, e.g., from a query</dd><dd><code>schemaName</code> - Schema name within DataSource context</dd><dd><code>tableName</code> - Table name within the schema</dd><dd><code>desc</code> - A brief description of the table, or null</dd><dd><code>utype</code> - The VO Utype for the table, or null

 The schema for the new table will be automatically determined from the
 input resultSet.  A DataSource with create table and insert permission
 must have been set previously.</dd></dl>
</li>
</ul>
<a name="writeData(java.sql.ResultSet, TableDesc)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeData</h4>
<pre>public&nbsp;void&nbsp;writeData(java.sql.ResultSet&nbsp;rs,
             TableDesc&nbsp;tableDesc)</pre>
<div class="block">Write a ResultSet to a database table described by a table descriptor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rs</code> - A JDBC ResultSet, e.g., from a query</dd><dd><code>tableDesc</code> - Description of the output table

 A new table will be created as defined by the provided table descriptor
 and the contents of the resultSet will be written to the new table.
 Any resultSet fields not defined in the table descriptor will be 
 omitted.  Any output table fields not present in the resultSet will be
 set to null values.  A DataSource with create table and insert permission
 must have been set previously.</dd></dl>
</li>
</ul>
<a name="insertData(java.lang.String, java.lang.String, java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertData</h4>
<pre>public&nbsp;void&nbsp;insertData(java.lang.String&nbsp;schemaName,
              java.lang.String&nbsp;tableName,
              java.util.ArrayList&lt;java.util.ArrayList&lt;java.lang.Object&gt;&gt;&nbsp;data)</pre>
<div class="block">Insert row data into an existing table.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - Schema containing table</dd><dd><code>tableName</code> - Name of table within schema</dd><dd><code>data</code> - Row data

 Row data is passed as a List of rows, where each row is expressed as
 List<Object>.  Each Object data instance must match the datatype
 required by the table column.</dd></dl>
</li>
</ul>
<a name="getTableDesc(java.sql.ResultSet, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableDesc</h4>
<pre>public&nbsp;TableDesc&nbsp;getTableDesc(java.sql.ResultSet&nbsp;rs,
                     java.lang.String&nbsp;schemaName,
                     java.lang.String&nbsp;tableName,
                     java.lang.String&nbsp;descr,
                     java.lang.String&nbsp;utype)</pre>
<div class="block">Generate a TableDesc instance for the given ResultSet.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rs</code> - A JDBC ResultSet, e.g., from a query</dd><dd><code>schemaName</code> - Schema name within DataSource context</dd><dd><code>tableName</code> - Table name within the schema</dd><dd><code>desc</code> - A brief description of the table, or null</dd><dd><code>utype</code> - The VO Utype for the table, or null

 A basic table descriptor (TableDesc) instance is generated from the
 given resultSet.  The given schema and table names refer to the
 tableDesc to be generated (e.g., for a new table), rather than to
 the input resultSet.</dd></dl>
</li>
</ul>
<a name="getTableDesc(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTableDesc</h4>
<pre>public&nbsp;TableDesc&nbsp;getTableDesc(java.lang.String&nbsp;schemaName,
                     java.lang.String&nbsp;tableName,
                     java.lang.String&nbsp;descr,
                     java.lang.String&nbsp;utype)</pre>
<div class="block">Generate a TableDesc instance for an existing database table.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - Schema name within DataSource context</dd><dd><code>tableName</code> - Table name within the schema</dd><dd><code>desc</code> - A brief description of the table, or null</dd><dd><code>utype</code> - The VO Utype for the table, or null

 A basic table descriptor (TableDesc) instance is generated from the
 given database table.</dd></dl>
</li>
</ul>
<a name="getAdqlType(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAdqlType</h4>
<pre>public&nbsp;java.lang.String&nbsp;getAdqlType(int&nbsp;jdbcType)</pre>
<div class="block">Map a JDBC datatype to an ADQL datatype.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>type</code> - The input JDBC type.</dd></dl>
</li>
</ul>
<a name="getGrantSelectTableSQL(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGrantSelectTableSQL</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getGrantSelectTableSQL(java.lang.String&nbsp;dbTableName)</pre>
<div class="block">Create the SQL to grant select privileges for the UPLOAD table.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dbTableName</code> - Fully qualified table name.</dd></dl>
</li>
</ul>
<a name="getDbTableName(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDbTableName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDbTableName(java.lang.String&nbsp;schemaName,
                              java.lang.String&nbsp;tableName)</pre>
<div class="block">Construct the fully qualified database table name from the schema and
 table names.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - The schema name</dd><dd><code>tableName</code> - The table name within the schema</dd>
<dt><span class="strong">Returns:</span></dt><dd>The database table name.</dd></dl>
</li>
</ul>
<a name="getCreateTableSQL(TableDesc, java.lang.String, DatabaseDataType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreateTableSQL</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getCreateTableSQL(TableDesc&nbsp;tableDesc,
                                 java.lang.String&nbsp;dbTableName,
                                 DatabaseDataType&nbsp;dbDataType)
                                      throws java.sql.SQLException</pre>
<div class="block">Create the SQL required to create a table described by the TableDesc.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableDesc</code> - describes the table.</dd><dd><code>dbTableName</code> - fully qualified table name.</dd><dd><code>dbDataType</code> - map of SQL types to database specific data types.</dd>
<dt><span class="strong">Returns:</span></dt><dd>SQL to create the table.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="getInsertTableSQL(TableDesc, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInsertTableSQL</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getInsertTableSQL(TableDesc&nbsp;tableDesc,
                                 java.lang.String&nbsp;tableName)</pre>
<div class="block">Create the SQL required to create a PreparedStatement
 to insert into the table described by the TableDesc.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tableDesc</code> - describes the table.</dd>
<dt><span class="strong">Returns:</span></dt><dd>SQL to create the table.</dd></dl>
</li>
</ul>
<a name="updatePreparedStatement(java.sql.PreparedStatement, java.util.List, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updatePreparedStatement</h4>
<pre>protected&nbsp;void&nbsp;updatePreparedStatement(java.sql.PreparedStatement&nbsp;ps,
                           java.util.List&lt;ColumnDesc&gt;&nbsp;columnDescs,
                           java.util.List&lt;java.lang.Object&gt;&nbsp;row)
                                throws java.sql.SQLException,
                                       StcsParsingException</pre>
<div class="block">Updated the PreparedStatement with the row data using the ColumnDesc to
 determine each column data type.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ps</code> - the prepared statement.</dd><dd><code>columnDescs</code> - List of ColumnDesc for this table.</dd><dd><code>row</code> - Array containing the data to be inserted into the database.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code> - if the statement is closed or if the parameter index type doesn't match.</dd>
<dd><code>StcsParsingException</code></dd></dl>
</li>
</ul>
<a name="getPointObject(Position)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPointObject</h4>
<pre>protected&nbsp;java.lang.Object&nbsp;getPointObject(Position&nbsp;pos)
                                   throws java.sql.SQLException</pre>
<div class="block">Convert the string representation of the specified ADQL POINT into an object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pos</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>an object suitable for use with PreparedStatement.setObject(int,Object)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
<a name="getRegionObject(Region)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRegionObject</h4>
<pre>protected&nbsp;java.lang.Object&nbsp;getRegionObject(Region&nbsp;reg)
                                    throws java.sql.SQLException</pre>
<div class="block">Convert the string representation of the specified ADQL POINT into an object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reg</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>an object suitable for use with PreparedStatement.setObject(int,Object)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../dalserver/tap/BasicUploadManager.html" title="class in dalserver.tap"><span class="strong">Prev Class</span></a></li>
<li><a href="../../dalserver/tap/InlineContentHandlerImpl.html" title="class in dalserver.tap"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?dalserver/tap/DbmsTable.html" target="_top">Frames</a></li>
<li><a href="DbmsTable.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
